<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <title>Document</title>
  </head>
  <body>
    <form class="container mt-5" id="form-veiculo">
      <label class="d-flex flex-column">
        <span>Marca:</span>
        <input class="form-control" type="text" id="marca" />
      </label>

      <label class="d-flex flex-column">
        <span>Modelo</span>
        <input class="form-control" type="text" id="modelo" />
      </label>

      <label class="d-flex flex-column">
        <span>Ano</span>
        <input class="form-control" type="text" id="ano" />
      </label>

      <label class="d-flex flex-column">
        <span>Cor</span>
        <input class="form-control" type="text" id="cor" />
      </label>

      <label class="d-flex flex-column">
        <span>Quilometragem</span>
        <input class="form-control" type="text" id="quilometragem" type="number" />
      </label>

      <label class="d-flex flex-column">
        <span>valor_fipe</span>
        <input class="form-control" type="text" id="valor_fipe" type="number" />
      </label>

      <button type="submit" class="btn btn-primary">ENVIAR</button>
    </form>

    <script>
      function Veiculo(marca, modelo, ano, cor, quilometragem, valor_fipe) {
        this.marca = marca;
        this.modelo = modelo;
        this.ano = ano;
        this.cor = cor;
        this.quilometragem = quilometragem;
        this.valor_fipe = valor_fipe;

        this.anosUtilizacao = function () {
          const anoAtual = new Date().getFullYear();
          return anoAtual - this.ano;
        };

        this.valorMercado = function () {
          if (this.quilometragem <= 30000) {
            return Math.ceil(this.valor_fipe * 1.1);
          } else if (this.quilometragem <= 50000) {
            return Math.ceil(this.valor_fipe)
          } else {
            return Math.ceil(this.valor_fipe * 0.9);
          }
        };
      }

      const form = document.getElementById("form-veiculo");

      form.addEventListener("submit", function (event) {
        event.preventDefault();
        const marca = document.getElementById("marca").value;
        const modelo = document.getElementById("modelo").value;
        const ano = document.getElementById("ano").value;
        const cor = document.getElementById("cor").value;
        const quilometragem = document.getElementById("quilometragem").value;
        const valor_fipe = document.getElementById("valor_fipe").value;
        const veiculo = new Veiculo(
          marca,
          modelo,
          ano,
          cor,
          quilometragem,
          valor_fipe
        );


        alert("Verifique o console")
        console.log(veiculo);
        console.log("Anos de utilização:", veiculo.anosUtilizacao());
        console.log("Valor de mercado:", veiculo.valorMercado());
      });
    </script>
  </body>
</html>
